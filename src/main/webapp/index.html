<!DOCTYPE html>
<html lang="html lang=zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Login</title>
    <link rel="stylesheet" href="./css/index.css">
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script> -->
    <!-- <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script> -->
    <script src="./js/jquery-3.4.1.min.js"></script>
    <script src="./js/vue.min.js"></script>
</head>

<body>
    <div id="login">
        <form id="form">
            <span>用户登录</span>
            <input type="text" name="username" placeholder="账号">
            <input type="password" name="password" placeholder="密码">
         	<input type="submit" value="登&nbsp;&nbsp;&nbsp;录"> 
         
        </form>
        
    </div>
    <div id="bottom">
       <a href=http://www.new-thread.com/> <span>技术支持：新思路团队</span>  </a>
        </div>
</body>

<script type="text/javascript">
    	$('form').submit(function (event) {
            event.preventDefault();
            
            $.ajax({
                type: 'POST',
                datatype: 'json',
                url: 'login',
                data: $("#form").serializeArray(),
                
                success: function (data) {
                      //var bbb = $.isEmptyObject(data);
                      //if (bbb == true) {
                    	if(data.name == null){
                        alert("用户名或密码错误，请重新登录！")
                        window.location.href = 'index.html'
                    } else {
                         //console.log(data);
                         alert("登录成功")
                        window.location.href = 'main.html' //登录成功页面跳转
                    }
                },
                error: function () {
                    alert("登录失败")
                }
            });
    })
       
</script>

</html>